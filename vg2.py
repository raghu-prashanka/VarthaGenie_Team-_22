# -- coding: utf-8 --


import spacy
from spacy.lang.te import Telugu
from indicnlp.tokenize import sentence_tokenize
from sklearn.feature_extraction.text import CountVectorizer, TfidfTransformer
from scipy.sparse import csr_matrix
import networkx as nx

nlp = Telugu()

def Text_summarizer(raw_docx):
    raw_text = raw_docx
    docx = nlp(raw_text)
    stopwords = []  # No need for stopwords in Telugu

    word_frequencies = {}
    sentences = sentence_tokenize.sentence_split(raw_text, lang='te')

    for sentence in sentences:
        for word in sentence.split():
            if word not in stopwords:
                if word not in word_frequencies.keys():
                    word_frequencies[word] = 1
                else:
                    word_frequencies[word] += 1

    maximum_frequency = max(word_frequencies.values())

    for word in word_frequencies.keys():
        word_frequencies[word] = (word_frequencies[word] / maximum_frequency)

    # Create vectorizer object
    c = CountVectorizer()
    bow_matrix = c.fit_transform(sentences)

    # Transform count matrix to TF-IDF representation
    tfidf_transformer = TfidfTransformer()
    normalized_matrix = tfidf_transformer.fit_transform(bow_matrix)

    # Convert to CSR format
    normalized_csr_matrix = csr_matrix(normalized_matrix)

    # Create networkx graph
    nx_graph = nx.Graph()

    # Add nodes to the graph
    for i, sentence in enumerate(sentences):
        nx_graph.add_node(i, sentence=sentence)

    # Loop through similarity matrix and add edges
    for i in range(normalized_csr_matrix.shape[0]):
        for j in range(normalized_csr_matrix.shape[1]):
            weight = normalized_csr_matrix[i, j]
            if weight > 0:
                nx_graph.add_edge(i, j, weight=weight)

    # Calculate pagerank scores
    # Calculate pagerank scores
    scores = nx.pagerank(nx_graph)

    # Sort sentences by score
    sorted_sentences = sorted(scores, key=scores.get, reverse=True)

    # Generate summary
    summary = ' '.join([sentences[i] for i in sorted_sentences[:3]])  # Adjust number of sentences in summary as needed
    return summary

# Define your raw text document
raw_text = """
ఫొటో సోర్స్, Dilip Sharma/BBC పౌరసత్వ సవరణ బిల్లుపై ఈశాన్య రాష్ట్రాల్లో ఆందోళనలు జరుగుతున్నాయి. ముఖ్యంగా అస్సాంలోని ప్రజలు భిన్నరూపాల్లో నిరసన వ్యక్తం చేస్తున్నారు. అధికార బీజేపీని హెచ్చరిస్తూ 'ఆర్ఎస్‌ఎస్ గో బ్యాక్' అంటూ స్థానికులు నినాదాలు చేస్తున్నారు. పౌరసత్వ సరవణ బిల్లును వ్యతిరేకిస్తూ గతంలో ఆందోళనలు చేసిన ఆల్ అస్సాం స్టూడెంట్ యూనియన్ ఇప్పుడు కాగడాలతో ర్యాలీలు చేస్తూ కొత్త తరహా నిరసన చేపట్టింది. అలాగే, రాష్ట్రంలోని కళాకారులు, రచయతలు, మేధావులు, ప్రతిపక్ష పార్టీల నేతలు భిన్న రూపాల్లో తమ నిరసనను వ్యక్తం చేస్తున్నారు. ఈ బిల్లును వ్యతిరేకిస్తూ దిబ్రూఘర్‌లోని వివిధ ప్రాంతల్లో ప్రజలు నిరసన కార్యక్రమాలు నిర్వహించారు. టిన్సుకియా, థెమాజీ, శివసాగర్ జిల్లాల్లో జాతీయ రహదారులను దిగ్భందించారు. సోమవారం ఉదయం, ఆల్ అస్సాం సుటియా స్టూడెంట్ ఆర్గనైజేషన్, ఆల్ అస్సాం మోరన్ స్టూడెంట్ ఆర్గనైజేషన్‌లు 48 గంటల బంద్‌కు పిలుపునిచ్చాయి. ఈ బంద్ ప్రభావం అస్సాంలోని 8 జిల్లాలపై తీవ్రంగా పడింది. ఈ ప్రాంతాల్లో మార్కెట్‌లు మూతపడ్డాయి. రోడ్లపై వాహనాలు నిలిచిపోయాయి. ఈ బిల్లుకు వ్యతిరేకంగా పోరాడుతున్న విద్యార్థి సంస్థలు రాష్ట్రంలోని ఆరు గిరిజన తెగలకు ఎస్టీ హోదా ఇవ్వాలని గతకొంత కాలం నుంచి డిమాండ్ చేస్తున్నాయి. ఫొటో సోర్స్, Dilip Sharma/BBC ఏడు ఈశాన్య రాష్ట్రాలకు చెందిన విద్యార్థి సంఘాల సంస్థ 'ది నార్త్ ఈస్ట్ స్టూడెంట్ ఆర్గనైజేషన్' మంగళవారం ఉదయం 5 నుంచి మధ్యాహ్నం 4 వరకు పూర్తిస్థాయి బంద్‌కు పిలుపునిచ్చింది. ఈ బంద్‌కు 30 ప్రజాసంఘాలు మద్దతు తెలిపాయి. మరోవైపు, కేంద్ర హోం మంత్రి అమిత్ షా పౌరసత్వ సరవణ బిల్లును లోక్‌సభలో ప్రవేశపెట్టగానే అస్సాం అంతటా ఆందోళనలు తీవ్రం అయ్యాయి. ఆల్ అస్సాం స్టూడెంట్స్ యూనియన్ సభ్యులు గువహటిలో ప్రధాని మోదీతో సహా పలువురు బీజేపీ నేతల దిష్టిబొమ్మలను దహనం చేశారు. అస్సాం ముఖ్యమంత్రికి వ్యతిరేకంగా చాలా మంది నెటిజన్లు సోషల్ మీడియాలో ఆగ్రహం వ్యక్తం చేశారు. అస్సాం పారిశ్రామికంగా పురోగతి సాధించాలంటే రాష్ట్రంలో శాంతియుత వాతావరణ ఉండాలని సీఎం సోనోవాల్ తన అధికారిక ఫేస్‌బుక్ పేజీలో కోరారు. గువహటి యూనివర్సిటీ విద్యార్థులు పౌరసత్వ సవరణ బిల్లును వ్యతిరేకిస్తున్నట్లు రక్తంతో రాసి నిరసన తెలిపారు. దీనికి సంబంధించిన వీడియో సోషల్ మీడియాలో వైరల్‌గా మారింది. ఫొటో సోర్స్, Dilip Sharma/BBC వాస్తవానికి, ఈశాన్య రాష్ట్రాల్లో అధికంగా ఉన్న మూలవాసులు ఈ సవరణ బిల్లు వల్ల తమ గుర్తింపు, భాష సంస్కృతి ప్రమాదంలో పడుతుందని భయపడుతున్నారు. పౌరసత్వ సవరణ బిల్లు ముసుగులో బీజేపీ హిందూ ఓటు బ్యాంకు రాజకీయాలు చేస్తోందని ఆల్ అస్సాం స్టూడెంట్స్ యూనియన్ ప్రధాన సలహాదారు సమాజ్వాల్ భట్టాచార్య ఆరోపించారు. ''బంగ్లాదేశ్ పౌరులను రక్షించడానికి కాంగ్రెస్ మాపై ఐఎండీటీ చట్టాన్ని విధించింది. ఇప్పుడు అక్రమంగా వచ్చన బంగ్లాదేశీలను రక్షించడానికి బీజేపీ మాపై పౌరసత్వ సవరణ బిల్లును ప్రయోగిస్తోంది. కానీ, అస్సాం ప్రజలు ఈ బిల్లును అంగీకరించరు'' అని పేర్కొన్నారు. ''పౌరసత్వ సవరణ బిల్లు అమలైతే అస్సామీలు తమ సొంతరాష్ట్రంలోనే భాషాపరమైన మైనారిటీలవుతారు. అస్సాంలో స్థిరపడిన బెంగాలీ మాట్లాడే ముస్లింలు గతంలో తమ భాషలోనే రాసుకునేవారు. కానీ, తర్వాత కాలంలో వారు అస్సామీ భాషను ఆమోదించారు'' అని సీనియర్ జర్నలిస్టు బాయికుత్ నాథ్ గోస్వామి అన్నారు. ''ఈ బిల్లు ఆమోదం పొందితే మత ప్రాతిపదికన రాజకీయాలు జరుగుతాయి. స్థానికుల మనోభావాలకు ప్రాముఖ్యం తగ్గుతుంది. హిందుత్వ పేరిట బీజేపీ- ఆర్‌ఎస్‌ఎస్ ఓట్లను కొల్లగొట్టడానికి చూస్తోంది. ఈ విషయంలో ఆ పార్టీ చాలా వరకు విజయవంతమైంది'' అని అన్నారు. ఫొటో సోర్స్, Dilip Sharma/BBC ఈ బిల్లును వ్యతిరేకిస్తూ ఉద్యమాన్ని కొనసాగిస్తామని ప్రకటించిన అస్సాంతో పాటు, ఈశాన్యంలోని వివిధ సంస్థల భవిష్యత్తు ఎలా ఉంటుందని ప్రశ్నించగా, దీనికి గోస్వామి సమాధానమిస్తూ, ''గిరిజన ప్రాంతాలలో పౌరసత్వ బిల్లు ప్రభావం ఉండదు. మేఘాలయ, నాగాలాండ్, మిజోరాం, మణిపూర్ వంటి రాష్ట్రాలకు ఈ చట్టం వర్తించదు. ఈ సందర్భంలో ఉద్యమం మరింత బలహీనపడుతుంది'' అని విశ్లేషించారు. ''అస్సాంలోని బోడో, కర్బీ, డిమాసా ప్రాంతాలు రాజ్యాంగంలోని 6వ షెడ్యూల్ పరిధిలోకి వస్తాయి, ఆ బిల్లు ఇక్కడ వర్తించదు'' అని తెలిపారు. పౌరసత్వ సవరణ బిల్లు ప్రకారం, పొరుగు దేశాలైన బంగ్లాదేశ్, పాకిస్తాన్, అఫ్గానిస్తాన్‌ల నుంచి భారత్‌కు వచ్చిన ముస్లిమేతర (హిందూ, సిక్కు, పార్సీ, జైనులు, తదితర మతాల) వలసదారులకు కొన్ని షరతుల ప్రకారం భారత పౌరసత్వం ఇవ్వాలని అందులో ప్రతిపాదించారు. అస్సాం విషయానికి వస్తే ఎన్‌ఆర్‌సీ తుది జాబితాలో లేని 19 లక్షల మందిలో సుమారు 12 లక్షల మంది హిందూ బెంగాలీలు ఉన్నారని చెబుతున్నారు. (బీబీసీ తెలుగును ఫేస్‌బుక్, ఇన్‌స్టాగ్రామ్‌, ట్విటర్‌లో ఫాలో అవ్వండి.  యూట్యూబ్‌లో సబ్‌స్క్రైబ్ చేయండి.) బీబీసి కోసం కలెక్టివ్ న్యూస్‌రూమ్ ప్రచురణ © 2024  BBC. ఇతర వెబ్‌సైట్లలో సమాచారానికి బీబీసీ బాధ్యత వహించదు. ఇతర వెబ్‌సైట్లకు మా లింకింగ్ విధానం గురించి తెలుసుకోండి.
"""

# Call Text_summarizer function with raw text
summary = Text_summarizer(raw_text)

# Print the summary
print(summary)